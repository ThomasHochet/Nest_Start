<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="../js/navbar.js"></script>
  <script src="../js/tools.js"></script>
  <title>Détail</title>
</head>
<body>
  <div w3-include-html="navbar.html"></div>

  <div class="grid place-items-center h-fit">
    <div class="p-20 bg-purple-100 w-full md:w-1/2">
      <h3 class="text-purple-300 font-bold mb-4" id="title"></h3>
      <div class="bg-white rounded-lg shadow-lg">
        <img src="" alt="" id="img" class="rounded-t-lg">
        <div class="p-6">
          <h2 class="font-bold mb-2 text-2xl text-purple-800" id="price">
          </h2>
          <p class="text-purple-700 mb-2" id="description"></p>
          <a href="#" class="text-purple-600 hover:text-purple-500 underline text-sm">Ajouter</a>
        </div>
    
      </div>
    </div>
  </div>
  
</body>
<script>
  includeHTML();
  loadDataNavbar();

  function loadProduct() {
    const title = document.querySelector('#title');
    const image = document.querySelector('#img');
    const price = document.querySelector('#price');
    const description = document.querySelector('#description');

    const urlParams = new URLSearchParams(window.location.search);
    const id = urlParams.get('id');
    fetch(`http://localhost:4567/products/${id}`)
      .then(res => res.json())
      .then(data => {
        title.innerHTML = data.name;
        image.src = data.image;
        price.innerHTML = data.price + "€";
        description.innerHTML = data.description;
      })
  }
  loadProduct();
</script>
</html>